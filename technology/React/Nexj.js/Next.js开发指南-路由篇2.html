<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>路由篇 - 动态路由、路由组、平行路由和拦截路由 | IT-Marker</title>
    <meta name="description" content="技术永不褪色">
    <link rel="preload stylesheet" href="/imarker/assets/style.7f379bf7.css" as="style">
    <script type="module" src="/imarker/assets/app.b6343c38.js"></script>
    <link rel="preload" href="/imarker/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
  <link rel="modulepreload" href="/imarker/assets/chunks/framework.28867cbe.js">
  <link rel="modulepreload" href="/imarker/assets/chunks/theme.be5b6720.js">
  <link rel="modulepreload" href="/imarker/assets/technology_React_Nexj.js_Next.js开发指南-路由篇2.md.4d6ae3b4.lean.js">
  <meta name="theme-color" content="#646cff">
  <meta name="referrer" content="no-referrer">
  <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-410c024d><!--[--><!--]--><!--[--><span tabindex="-1" data-v-c8616af1></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-c8616af1> Skip to content </a><!--]--><!----><header class="VPNav" data-v-410c024d data-v-7e5bc4a5><div class="VPNavBar has-sidebar" data-v-7e5bc4a5 data-v-1d30fa41><div class="container" data-v-1d30fa41><div class="title" data-v-1d30fa41><div class="VPNavBarTitle has-sidebar" data-v-1d30fa41 data-v-f4ef19a3><a class="title" href="/imarker/" data-v-f4ef19a3><!--[--><!--]--><!--[--><img class="VPImage logo" src="/imarker/logo.svg" alt data-v-6db2186b><!--]--><!--[-->IT-Marker<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-1d30fa41><div class="curtain" data-v-1d30fa41></div><div class="content-body" data-v-1d30fa41><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-1d30fa41 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/imarker/environment/Node/npm.html" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->♾️ Env<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> ✨ Tech <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/Document/dom%E5%B0%BA%E5%AF%B8%E7%9B%B8%E5%85%B3.html" data-v-d2c93bab data-v-8f4dc553><!--[-->Document<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/JavaScript/%E8%AE%BF%E9%97%AE%E5%99%A8%E6%88%90%E5%91%98.html" data-v-d2c93bab data-v-8f4dc553><!--[-->JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/TypeScript/Basic/tsconfig%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6.html" data-v-d2c93bab data-v-8f4dc553><!--[-->TypeScript<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/Nodejs/verdaccio%E6%90%AD%E5%BB%BA%E6%9C%AC%E5%9C%B0npm%E6%BA%90.html" data-v-d2c93bab data-v-8f4dc553><!--[-->Nodejs<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/Vue/1.Vue3.html" data-v-d2c93bab data-v-8f4dc553><!--[-->Vue<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/React/A-%E7%AE%80%E4%BB%8B.html" data-v-d2c93bab data-v-8f4dc553><!--[-->React<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/Microfront/A-%E7%AE%80%E4%BB%8B.html" data-v-d2c93bab data-v-8f4dc553><!--[-->微前端<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/Engineering/batchExportComponent.html" data-v-d2c93bab data-v-8f4dc553><!--[-->工程化<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/Tools/index.html" data-v-d2c93bab data-v-8f4dc553><!--[-->工具<!--]--><!----></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="/imarker/technology/Other/%E5%A6%82%E4%BD%95%E5%81%9A%E5%A5%BD%E4%B8%80%E5%90%8D%E5%89%8D%E7%AB%AFLeader.html" data-v-d2c93bab data-v-8f4dc553><!--[-->其他<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/imarker/algorithm/index.html" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->🧊 算法<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/imarker/explore/1.%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0--%E5%8A%A8%E7%94%BB%E5%87%BD%E6%95%B0.html" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->🛠️ 探索<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/imarker/question/" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->🛠️ 疑难杂症<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/imarker/guide/%E6%96%87%E6%A1%A3%E5%BF%AB%E9%93%BE.html" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->🔗 文档快链<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/imarker/vant-plus/%E4%BB%8B%E7%BB%8D.html" tabindex="0" data-v-7f418b0f data-v-37adc828 data-v-8f4dc553><!--[-->🔗 Vant++<!--]--><!----></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-764effdf><span class="text" data-v-764effdf><!----> ⚡️ 常用库 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-764effdf><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="https://v2.cn.vuejs.org/" target="_blank" rel="noreferrer" data-v-d2c93bab data-v-8f4dc553><!--[-->Vue2<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8f4dc553><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="https://cn.vuejs.org/" target="_blank" rel="noreferrer" data-v-d2c93bab data-v-8f4dc553><!--[-->Vue3<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8f4dc553><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="https://cn.vitejs.dev/" target="_blank" rel="noreferrer" data-v-d2c93bab data-v-8f4dc553><!--[-->Vite<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8f4dc553><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="https://react.dev/" target="_blank" rel="noreferrer" data-v-d2c93bab data-v-8f4dc553><!--[-->React官网<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8f4dc553><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-e7ea1737 data-v-d2c93bab><a class="VPLink link" href="https://react.docschina.org/" target="_blank" rel="noreferrer" data-v-d2c93bab data-v-8f4dc553><!--[-->React中文网<!--]--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" height="24px" viewbox="0 0 24 24" width="24px" class="icon" data-v-8f4dc553><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M9 5v2h6.59L4 18.59 5.41 20 17 8.41V15h2V5H9z"></path></svg></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-1d30fa41 data-v-f6a63727><label title="toggle dark mode" data-v-f6a63727 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-1d30fa41 data-v-0394ad82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://gitee.com/darkersu" aria-label target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg t="1695563601099" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1771" width="200" height="200"><path d="M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z" fill="#C71D23" p-id="1772"></path></svg></a><a class="VPSocialLink" href="https://github.com/DarkerSU" aria-label="github" target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-1d30fa41 data-v-40855f84 data-v-764effdf><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-764effdf><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-764effdf><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-764effdf><div class="VPMenu" data-v-764effdf data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-40855f84><div class="item appearance" data-v-40855f84><p class="label" data-v-40855f84>Appearance</p><div class="appearance-action" data-v-40855f84><label title="toggle dark mode" data-v-40855f84 data-v-a9c8afb8><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-checked="false" data-v-a9c8afb8 data-v-f3c41672><span class="check" data-v-f3c41672><span class="icon" data-v-f3c41672><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a9c8afb8><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a9c8afb8><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></label></div></div></div><div class="group" data-v-40855f84><div class="item social-links" data-v-40855f84><div class="VPSocialLinks social-links-list" data-v-40855f84 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://gitee.com/darkersu" aria-label target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg t="1695563601099" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1771" width="200" height="200"><path d="M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z" fill="#C71D23" p-id="1772"></path></svg></a><a class="VPSocialLink" href="https://github.com/DarkerSU" aria-label="github" target="_blank" rel="noopener" data-v-f6988cfb data-v-c530cc0a><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-1d30fa41 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav" data-v-410c024d data-v-f5a2ca58><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-f5a2ca58><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-f5a2ca58><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-f5a2ca58>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f5a2ca58 data-v-5b59f8f7><button class="" data-v-5b59f8f7>On this page <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-5b59f8f7><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div></div><aside class="VPSidebar" data-v-410c024d data-v-139a1f1d><div class="curtain" data-v-139a1f1d></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-139a1f1d><span class="visually-hidden" id="sidebar-aria-label" data-v-139a1f1d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-139a1f1d><section class="VPSidebarItem level-0" data-v-139a1f1d data-v-c4656e6d><!----><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/imarker/technology/React/A-%E7%AE%80%E4%BB%8B.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>A-简介</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-139a1f1d><section class="VPSidebarItem level-0 collapsible has-active" data-v-139a1f1d data-v-c4656e6d><div class="item" role="button" tabindex="0" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><h2 class="text" data-v-c4656e6d>Nexj.js</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-c4656e6d><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-c4656e6d><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/imarker/technology/React/Nexj.js/Next.js%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97-%E7%9B%AE%E5%BD%95%E8%AF%B4%E6%98%8E.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Next.js开发指南-目录说明</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/imarker/technology/React/Nexj.js/Next.js%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97-%E8%B7%AF%E7%94%B1%E7%AF%871.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Next.js开发指南-路由篇1</p><!--]--><!----></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link is-active has-active" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/imarker/technology/React/Nexj.js/Next.js%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97-%E8%B7%AF%E7%94%B1%E7%AF%872.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>Next.js开发指南-路由篇2</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-139a1f1d><section class="VPSidebarItem level-0" data-v-139a1f1d data-v-c4656e6d><!----><div class="items" data-v-c4656e6d><!--[--><div class="VPSidebarItem level-1 is-link" data-v-c4656e6d data-v-c4656e6d><div class="item" data-v-c4656e6d><div class="indicator" data-v-c4656e6d></div><a class="VPLink link link" href="/imarker/technology/React/React%20Hooks.html" data-v-c4656e6d data-v-8f4dc553><!--[--><p class="text" data-v-c4656e6d>React Hooks</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-410c024d data-v-bcaf6df5><div class="VPDoc has-sidebar has-aside" data-v-bcaf6df5 data-v-577a912e><div class="container" data-v-577a912e><div class="aside" data-v-577a912e><div class="aside-curtain" data-v-577a912e></div><div class="aside-container" data-v-577a912e><div class="aside-content" data-v-577a912e><div class="VPDocAside" data-v-577a912e data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-3f215769 data-v-ff0f39c8><div class="content" data-v-ff0f39c8><div class="outline-marker" data-v-ff0f39c8></div><div class="outline-title" data-v-ff0f39c8>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-ff0f39c8><span class="visually-hidden" id="doc-outline-aria-label" data-v-ff0f39c8> Table of Contents for current page </span><ul class="root" data-v-ff0f39c8 data-v-8f12e865><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-577a912e><div class="content-container" data-v-577a912e><!--[--><!--]--><div class="VPDocOutlineDropdown" data-v-577a912e data-v-049da7cc><button class="" data-v-049da7cc>On this page <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-049da7cc><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></button><!----></div><main class="main" data-v-577a912e><div style="position:relative;" class="vp-doc _imarker_technology_React_Nexj_js_Next_js%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97-%E8%B7%AF%E7%94%B1%E7%AF%872" data-v-577a912e><div><h1 id="路由篇-动态路由、路由组、平行路由和拦截路由" tabindex="-1">路由篇 - 动态路由、路由组、平行路由和拦截路由 <a class="header-anchor" href="#路由篇-动态路由、路由组、平行路由和拦截路由" aria-label="Permalink to &quot;路由篇 - 动态路由、路由组、平行路由和拦截路由&quot;">​</a></h1><p>原文：<a href="https://www.cnblogs.com/silva/p/17948724" target="_blank" rel="noreferrer">Next.js 开发指南 路由篇 | 动态路由、路由组、平行路由和拦截路由 </a></p><p>实际项目开发的时候，有的路由场景会比较复杂，比如数据库里的文章有很多，我们不可能一一去定义路由，此时该怎么办？组织代码的时候，有的路由是用于移动端，有的路由是用于 PC 端，该如何组织？如何有条件的渲染页面，比如未授权的时候显示登录框？如何让同一个路由根据情况不同展示不同的内容？</p><p>本篇我们会一一解决这些问题，在此篇，你将会感受到 App Router 强大的路由功能。</p><h2 id="一、动态路由-dynamic-routes" tabindex="-1">一、动态路由（Dynamic Routes） <a class="header-anchor" href="#一、动态路由-dynamic-routes" aria-label="Permalink to &quot;一、动态路由（Dynamic Routes）&quot;">​</a></h2><p>有的时候，你并不能提前知道路由的地址，就比如根据 URL 中的 id 参数展示该 id 对应的文章内容，文章那么多，我们不可能一一定义路由，这个时候就需要用到动态路由。</p><h3 id="_1-1-foldername" tabindex="-1">1.1 [folderName] <a class="header-anchor" href="#_1-1-foldername" aria-label="Permalink to &quot;1.1 [folderName]&quot;">​</a></h3><p>使用动态路由，你需要将文件夹的名字用方括号括住，比如 <code>[id]</code>、<code>[slug]</code>。这个路由的名字会作为 <code>paramprop</code> 传给布局（<code>layout</code>）、 页面（<code>page</code>）、 路由处理程序（<code>route</code>）以及 <code>generateMetadata（用于生成页面元数据）</code> 函数。</p><p>举个例子，我们在 <code>app/blog</code> 目录下新建一个名为 <code>[slug]</code> 的文件夹，在该文件夹新建一个<code>page.jsx</code> 文件，代码如下：</p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/blog/[slug]/page.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">My Post: </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">params</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">slug</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>效果如下：</p><img src="/imarker/images/react/next/pic1.webp"><p>当你访问 <code>/blog/a</code>的时候，<code>params</code> 的值为<code>{ slug: &#39;a&#39; }</code>。</p><p>当你访问 <code>/blog/yayu</code>的时候，<code>params</code> 的值为 <code>{ slug: &#39;yayu&#39; }</code>。</p><p>以此类推。</p><h3 id="_1-2-foldername" tabindex="-1">1.2 [...folderName] <a class="header-anchor" href="#_1-2-foldername" aria-label="Permalink to &quot;1.2 [...folderName]&quot;">​</a></h3><p>在命名文件夹的时候，如果你在方括号内添加省略号，比如 <code>[...folderName]</code>，这表示捕获所有后面所有的路由片段。</p><p>也就是说，<code>app/shop/[...slug]/page.js</code>会匹配 <code>/shop/clothes</code>，也会匹配 <code>/shop/clothes/tops</code>、<code>/shop/clothes/tops/t-shirts</code>等等。</p><p>举个例子，<code>app/shop/[...slug]/page.js</code>的代码如下：</p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/shop/[...slug]/page.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">My Shop: </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(params)</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>效果如下： <img src="/imarker/images/react/next/pic2.webp"></p><p>当你访问 <code>/shop/a</code> 的时候，<code>params</code> 的值为 <code>{ slug: [&#39;a&#39;] }</code>。</p><p>当你访问 <code>/shop/a/b</code> 的时候，<code>params</code> 的值为 <code>{ slug: [&#39;a&#39;, &#39;b&#39;] }</code>。</p><p>当你访问 <code>/shop/a/b/c</code> 的时候，<code>params</code> 的值为 <code>{ slug: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] }</code>。</p><h3 id="_1-3-foldername" tabindex="-1">1.3 [[...folderName]] <a class="header-anchor" href="#_1-3-foldername" aria-label="Permalink to &quot;1.3 [[...folderName]]&quot;">​</a></h3><p><strong>在命名文件夹的时候，如果你在双方括号内添加省略号，比如 <code>[[...folderName]]</code>，这表示可选的捕获所有后面所有的路由片段。</strong></p><p>也就是说，<code>app/shop/[[...slug]]/page.js</code>会匹配 <code>/shop</code>，也会匹配 <code>/shop/clothes</code>、 <code>/shop/clothes/tops</code>、<code>/shop/clothes/tops/t-shirts</code>等等。</p><p>它与上一种的<strong>区别就在于，不带参数的路由也会被匹配（就比如 <code>/shop</code>）</strong></p><p>举个例子，<code>app/shop/[[...slug]]/page.js</code>的代码如下：</p><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/shop/[[...slug]]/page.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">params</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">My Shop: </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(params)</span><span style="color:#89DDFF;">}&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>效果如下： <img src="/imarker/images/react/next/pic3.webp"> 当你访问 <code>/shop</code> 的时候，<code>params</code> 的值为 <code>{}</code>。</p><p>当你访问 <code>/shop/a</code>的时候，<code>params</code> 的值为 <code>{ slug: [&#39;a&#39;] }</code>。</p><p>当你访问 <code>/shop/a/b</code>的时候，<code>params</code> 的值为 <code>{ slug: [&#39;a&#39;, &#39;b&#39;] }</code>。</p><p>当你访问 <code>/shop/a/b/c</code>的时候，<code>params</code> 的值为 <code>{ slug: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;] }</code>。</p><p>以此类推。</p><h2 id="二、路由组" tabindex="-1">二、路由组 <a class="header-anchor" href="#二、路由组" aria-label="Permalink to &quot;二、路由组&quot;">​</a></h2><p>在 <code>app</code>目录下，文件夹名称通常会被映射到 <code>URL</code> 中，但你可以将文件夹标记为路由组，阻止文件夹名称被映射到 <code>URL</code> 中。</p><p>使用路由组，你可以将路由和项目文件按照逻辑进行分组，但不会影响 <code>URL</code> 路径结构。路由组可用于比如：</p><blockquote><ol><li>按站点、意图、团队等将路由分组</li><li>在同一层级中创建多个布局，甚至是创建多个根布局</li></ol></blockquote><p>那么该如何标记呢？把文件夹用括号括住就可以了，就比如 <code>(dashboard)</code>。</p><p>举些例子：</p><h3 id="_2-1-按逻辑分组" tabindex="-1">2.1 按逻辑分组 <a class="header-anchor" href="#_2-1-按逻辑分组" aria-label="Permalink to &quot;2.1 按逻辑分组&quot;">​</a></h3><p><strong>将路由按逻辑分组，但不影响 <code>URL</code> 路径：</strong></p><img src="/imarker/images/react/next/pic4.webp"><p>你会发现，最终的 URL 中省略了带括号的文件夹（上图中的<code>(marketing)</code>和<code>(shop)</code>）。</p><h3 id="_2-2-创建不同布局" tabindex="-1">2.2 创建不同布局 <a class="header-anchor" href="#_2-2-创建不同布局" aria-label="Permalink to &quot;2.2 创建不同布局&quot;">​</a></h3><p><strong>借助路由组，即便在同一层级，也可以创建不同的布局：</strong><img src="/imarker/images/react/next/pic5.webp"> 在这个例子中，<code>/account</code> 、<code>/cart</code>、<code>/checkout</code> 都在同一层级。但是 <code>/account</code> 和 <code>/cart</code> 使用的是 <code>/app/(shop)/layout.js</code> 布局和<code>app/layout.js</code> 布局，<code>/checkout</code> 使用的是 <code>app/layout.js</code></p><h3 id="_2-3-创建多个根布局" tabindex="-1">2.3 创建多个根布局 <a class="header-anchor" href="#_2-3-创建多个根布局" aria-label="Permalink to &quot;2.3 创建多个根布局&quot;">​</a></h3><p><strong>创建多个根布局</strong>： <img src="/imarker/images/react/next/pic6.webp"></p><p>创建多个根布局，你需要删除掉 <code>app/layout.js </code>文件，然后在每组都创建一个<code> layout.js</code>文件。创建的时候要注意，因为是根布局，所以要有 <code>&lt;html&gt;</code> 和 <code>&lt;body&gt;</code> 标签。</p><p>这个功能很实用，比如你将前台购买页面和后台管理页面都放在一个项目里，一个 C 端，一个 B 端，两个项目的布局肯定不一样，借助路由组，就可以轻松实现区分。</p><div class="tip custom-block"><p class="custom-block-title">再多说几点</p><ol><li>路由组的命名除了用于组织之外并无特殊意义。它们不会影响 <code>URL</code> 路径。</li><li>注意不要解析为相同的 <code>URL</code> 路径。举个例子，因为路由组不影响 <code>URL</code> 路径，所以 <code>(marketing)/about/page.js</code>和 <code>(shop)/about/page.js</code>都会解析为 <code>/about</code>，这会导致报错。</li><li>创建多个根布局的时候，因为删除了顶层的 <code>app/layout.js</code>文件，访问 <code>/</code>会报错，所以<code>app/page.js</code>需要定义在其中一个路由组中。</li><li>跨根布局导航会导致页面完全重新加载，就比如使用 <code>app/(shop)/layout.js</code>根布局的 <code>/cart</code> 跳转到使用 <code>app/(marketing)/layout.js</code>根布局的 <code>/blog</code> 会导致页面重新加载（full page load）。</li></ol></div><h2 id="三、平行路由" tabindex="-1">三、平行路由 <a class="header-anchor" href="#三、平行路由" aria-label="Permalink to &quot;三、平行路由&quot;">​</a></h2><p>平行路由可以使你在同一个布局中同时或者有条件的渲染一个或者多个页面（类似于 Vue 的插槽功能）。</p><h3 id="_3-1-用途-1-条件渲染" tabindex="-1">3.1 用途 1：条件渲染 <a class="header-anchor" href="#_3-1-用途-1-条件渲染" aria-label="Permalink to &quot;3.1 用途 1：条件渲染&quot;">​</a></h3><p>举个例子，在后台管理页面，同时展示团队（team）和数据分析（analytics）页面：</p><img src="/imarker/images/react/next/pic7.webp"><p>平行路由的使用方式就是将文件夹以 <code>@</code> 作为开头进行命名，这个文件夹下面的 <code>page.js</code> 将会自动注入文件夹同级 <code>layout</code> 的 <code>props</code> 中。</p><div class="tip custom-block"><p class="custom-block-title">注意</p><p>从这张图还可以看出，<code>children prop</code> 其实就是一个隐式的插槽，<code>/app/page.js</code> 相当于 <code>app/@children/page.js</code>。</p></div><p>除了让它们同时展示，你也可以根据条件判断展示：</p><img src="/imarker/images/react/next/pic8.webp"><p>在这个例子中，在布局中获取用户的登录状态，如果登录，显示 dashboard，没有登录，显示 login。这样做的一大好处就在于代码完全分离。</p><h3 id="_3-2-用途-2-独立路由处理" tabindex="-1">3.2 用途 2：独立路由处理 <a class="header-anchor" href="#_3-2-用途-2-独立路由处理" aria-label="Permalink to &quot;3.2 用途 2：独立路由处理&quot;">​</a></h3><p><strong>平行路由可以让你为每个路由定义独立的错误处理和加载界面：</strong></p><img src="/imarker/images/react/next/pic9.webp"><h3 id="_3-3-用途-3-子导航" tabindex="-1">3.3 用途 3：子导航 <a class="header-anchor" href="#_3-3-用途-3-子导航" aria-label="Permalink to &quot;3.3 用途 3：子导航&quot;">​</a></h3><p>注意我们描述 team 和 analytics 时依然用的是“页面”这个说法，因为它们就像书写正常的页面一样使用 page.js。除此之外，它们也能像正常的页面一样，添加子页面，比如我们在 <code>@analytics</code> 下添加两个子页面：<code>/page-views</code> and <code>/visitors</code>： 此外，平行路由跟路由组一样，不会影响 URL。比如 <code>/@team/members</code> 对应的地址是 <code>/members</code>。</p><img src="/imarker/images/react/next/pic50.webp"><p>平行路由跟路由组一样，不会影响 URL，所以 <code>/@analytics/page-views/page.js</code> 对应的地址是 <code>/page-views</code>，<code>/@analytics/visitors/page.js</code> 对应的地址是 <code>/visitors</code>，你可以导航至这些路由：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/layout.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Link </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">next/link</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">RootLayout</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">children</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">analytics</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">nav</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Home</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/page-views</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Page Views</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">br</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/visitors</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Visitors</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">nav</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">root layout</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">analytics</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">children</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>当导航至这些子页面的时候，子页面的内容会取代 /@analytics/page.js 以 props 的形式注入到布局中，效果如下：</p><img src="/imarker/images/react/next/pic51.webp"><p>这也就是说，每个插槽都可以有自己独立的导航和状态管理，就像一个小型应用一样。这种特性适合于构建复杂的应用如 dashboard。</p><p>最后，让我们总结一下使用平行路由的优势：</p><blockquote><ol><li>使用平行路由可以将单个布局拆分为多个插槽，使代码更易于管理，尤其适用于团队协作的时候</li><li>每个插槽都可以定义自己的加载界面和错误状态，比如某个插槽加载速度比较慢，那就可以加一个加载效果，加载期间，也不会影响其他插槽的渲染和交互。当出现错误的时候，也只会在具体的插槽上出现错误提示，而不会影响页面其他部分，有效改善用户体验</li><li>每个插槽都可以有自己独立的导航和状态管理，这使得插槽的功能更加丰富，比如在上面的例子中，我们在 <code>@analytics </code>插槽下又建了查看页面 PV 的 <code>/page-views</code>、查看访客的 <code>/visitors</code>，使得同一个插槽区域可以根据路由显示不同的内容 那你可能要问了，我就不使用平行路由，我就完全使用拆分组件的形式，加载状态和错误状态全都自己处理，子路由也统统自己处理，可不可以？</li></ol></blockquote><p>当然是可以的，只要不嫌麻烦的话……</p><div class="warning custom-block"><p class="custom-block-title">注意</p><p><strong>使用平行路由的时候，热加载有可能会出现错误。如果出现了让你匪夷所思的情况，重新运行 npm run dev 或者构建生产版本查看效果</strong></p></div><h3 id="_3-4-default-js" tabindex="-1">3.4. default.js <a class="header-anchor" href="#_3-4-default-js" aria-label="Permalink to &quot;3.4. default.js&quot;">​</a></h3><p>为了让大家更好的理解平行路由，我们写一个示例代码。项目结构如下：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">app</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@analytics</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page-view</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">│</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">visitors</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@team</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">layout.js</span></span>
<span class="line"><span style="color:#FFCB6B;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>其中 <code>app/layout.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/layout.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Link </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">next/link</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">./globals.css</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">RootLayout</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">children</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">team</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">analytics</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">p-6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">p-10 mb-6 bg-sky-600 text-white rounded-xl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          Parallel Routes Examples</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">nav</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">flex items-center justify-center gap-10 text-blue-600 mb-6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Home</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/page-views</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Page Views</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/visitors</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Visitors</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">nav</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">flex gap-6</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">team</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">analytics</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">children</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>注意：这里我们为了样式好看，使用了 <code>Tailwind CSS</code>，使用方式参考 <a href="https://juejin.cn/book/7307859898316881957/section/7309076792760303654#heading-5" target="_blank" rel="noreferrer">《样式篇 | Tailwind CSS、CSS-in-JS 与 Sass》</a>。对于不熟悉的同学，照样拷贝代码即可，顶多样式不生效，但并不影响这里的逻辑。</p><p><code>app/page.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">p-10 mt-6 bg-sky-600 text-white rounded-xl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      Hello, App!</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p><code>app/@analytics/page.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h-60 flex-1 rounded-xl bg-indigo-500 text-white flex items-center justify-center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello, Analytics!</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p><code>app/@analytics/page-views/page.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h-60 flex-1 rounded-xl bg-indigo-600 text-white flex items-center justify-center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello, Analytics Page Views!</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>app/@analytics/visitors/page.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h-60 flex-1 rounded-xl bg-indigo-700 text-white flex items-center justify-center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello, Analytics Visitors!</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>app/@team/page.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h-60 flex-1 rounded-xl bg-sky-500 text-white flex items-center justify-center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello, Team!</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>其实各个 <code>page.js</code> 代码差异不大，主要是做了一点样式和文字区分。</p><p>此时访问 <code>/</code>，效果如下：</p><img src="/imarker/images/react/next/pic10.webp"><p>到这里其实还只是上节例子的样式美化版。现在，点击 Visitors 链接导航至 <code>/visitors</code> 路由，然后刷新页面，此时你会发现，页面出现了 404 错误：</p><img src="/imarker/images/react/next/pic52.webp"><p>这是为什么呢？为什么我们从首页导航至 <code>/visitors</code> 的时候可以正常显示？而直接进入 <code>/visitors</code> 就会出现 404 错误呢？</p><p>先说说为什么从首页导航至 <code>/visitors</code> 的时候可以正常显示？这是因为 Next.js 默认会追踪每个插槽的状态，具体插槽中显示的内容其实跟导航的类型有关：</p><p>如果是软导航（Soft Navigation，比如通过 <code>&lt;Link /&gt;</code> 标签），在导航时，Next.js 将执行部分渲染，更改插槽的内容，如果它们与当前 URL 不匹配，维持之前的状态 如果是硬导航（Hard Navigation，比如浏览器刷新页面），因为 Next.js 无法确定与当前 URL 不匹配的插槽的状态，所以会渲染 404 错误 简单的来说，访问 /visitors 本身就会造成插槽内容与当前 URL 不匹配，按理说要渲染 404 错误，但是在软导航的时候，为了更好的用户体验，如果 URL 不匹配，Next.js 会继续保持该插槽之前的状态，而不渲染 404 错误。</p><p>那么问题又来了？不是写了 <code>app/@analytics/visitors/page.js</code> 吗？怎么会不匹配呢？对于 <code>@analytics</code> 而言，确实是匹配的，但是对于 <code>@team</code> 和 <code>children</code> 就不匹配了！</p><p>也就是说，当你访问 /visitors 的时候，读取的不仅仅是 <code>app/@analytics/visitors/page.js</code>，还有 <code>app/@team/visitors/page.js</code> 和 <code>app/visitors/page.js</code>。不信我们新建这两个文件测试一下。</p><p>新建 <code>app/@team/visitors/page.js</code>，代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h-60 flex-1 rounded-xl bg-indigo-700 text-white flex items-center justify-center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello, Team Visitors!</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>新建 <code>app/visitors/page.js</code>，代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">p-10 mt-6 bg-sky-600 text-white rounded-xl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      Hello, App Visitors!</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>此时再访问 <code>/visitors</code>，刷新一下页面试试，效果如下：</p><img src="/imarker/images/react/next/pic53.webp"><p>那么问题又来了，如果我在某一个插槽里新建了一个路由，我难道还要在其他插槽里也新建这个路由吗？这岂不是很麻烦？</p><p>为了解决这个问题，Next.js 提供了 <code>default.js</code>。当发生硬导航的时候，Next.js 会为不匹配的插槽呈现 <code>default.js</code> 中定义的内容，如果 <code>default.js</code> 没有定义，再渲染 404 错误。</p><p>现在删除 <code>app/@team/visitors/page.js</code> 和 <code>app/visitors/page.js</code>，改用 <code>default.js</code>：</p><p>新建 <code>app/@team/default.js</code>，代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">h-60 flex-1 rounded-xl bg-indigo-700 text-white flex items-center justify-center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Hello, Team Default!</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>新建 <code>app/default.js</code>，代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">p-10 mt-6 bg-sky-600 text-white rounded-xl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      Hello, App Default!</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>此时效果如下：</p><img src="/imarker/images/react/next/pic54.webp"><h3 id="_3-4-用途-4-实现-modal" tabindex="-1">3.4 用途 4：实现 Modal <a class="header-anchor" href="#_3-4-用途-4-实现-modal" aria-label="Permalink to &quot;3.4 用途 4：实现 Modal&quot;">​</a></h3><p>在实际开发中，平行路由可以用于渲染弹窗（Modal）。 <img src="/imarker/images/react/next/pic13.webp"> 我们想要实现的效果是，当跳转到 <code>/login</code> 的时候，渲染 Modal。</p><p>写个示例代码。项目目录如下：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">app</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">layout.js</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"><span style="color:#FFCB6B;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@auth</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default.js</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">login</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"></span></code></pre></div><p><code>app/layout.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/layout.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./globals.css</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Link </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">next/link</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">RootLayout</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">children</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">auth</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">   </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/login</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Open Auth Modal</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Back To Home</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">/app/layout.js</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">children</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">       </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">auth</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;"> )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>app/page.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/page.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">/app/page.js</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>如果没有 <code>@auth</code> 下的代码，此时访问 <code>/</code>，效果应该是： <img src="/imarker/images/react/next/pic14.webp"> 考虑到我们写的是一个 Modal 效果，当我们访问 <code>/</code> 的时候，Modal 应该是不被渲染的。当我们访问其他地址如<code>/about</code>的时候，Modal 也不应该被渲染。所以a<code>pp/@auth/page.js</code>和 <code>app/@auth/default.js</code> 都应该 <code>return</code> 一个 <code>null</code>。</p><p>两个文件代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/@auth/page.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">// app/@auth/default.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Default</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>app/@auth/login/page.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">use client</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// app/@auth/login/page.js</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">useRouter</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">next/navigation</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Page</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">router</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">useRouter</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#F07178;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">200px</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">height</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">100px</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">backgroundColor</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">red</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fixed</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">20px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">left</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">220px</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">onClick</span><span style="color:#89DDFF;">={()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> router</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">back</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">}&gt;</span><span style="color:#A6ACCD;">Close Modal</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">span</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">Modal Content</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>最终效果如下：</p><img src="/imarker/images/react/next/pic15.webp"><p>当我们点击 <code>Open Auth Modal</code> 的时候，路由跳转 <code>/login</code>，显示弹窗。点击弹窗里的 <code>Close Modal</code>，路由跳回 <code>/</code>，弹窗关闭。点击 <code>Back To Home</code>，从 <code>/login</code> 跳到 <code>/</code>，弹窗也会关闭。</p><p>之所以能实现这样一个功能，借助的就是平行路由的功能。当跳转到 <code>/login</code> 的时候，<code>app/@auth/login/page.js</code> 会作为 <code>app/layout.js</code> 中的 <code>auth</code> 参数传入，于是展示了弹窗。当跳转到 <code>/</code> 的时候，展示 <code>app/@auth/page.js</code>，此时 <code>return null</code>，所以关闭了弹窗。</p><p>但是你可能发现一个问题，那就是当我们刷新 <code>/login</code> 页面的时候，会出现 <code>404</code> 错误。刷新后的结果如下：</p><img src="/imarker/images/react/next/pic16.webp"><p>为什么会出现这样一个内容呢？</p><p>经过排查，这个 <code>404</code> 提示来自于 <code>app/layout.js</code> 中的 <code>children</code>。如果你把 <code>{children}</code> 这行代码删除，就不会展示这个错误。</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">RootLayout</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">children</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">auth</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">/app/layout.js</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">h1</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;font-style:italic;">children</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;font-style:italic;">auth</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>其实你把 <code>children</code> 理解为另外一个插槽就方便理解了。<code>/app/page.js</code> 相当于 <code>app/@children/page.js</code>。</p><p>当访问 <code>/login</code> 的时候，只匹配了 <code>/@auth/login/page.js</code> 这个插槽，但是 <code>/@children/page.js</code> 就没有匹配到了。</p><p>当重新刷新的时候，Next.js 会首先尝试渲染不匹配插槽的 <code>default.js</code> 文件，如果不可用，再渲染 404。</p><p>所以解决这个问题也很简单，在 app下新建一个 <code>default.js</code> 文件，也 <code>return null</code> 就可以了：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Default</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>此时再刷新 <code>/login</code> 页面，就没有 <code>404</code> 错误了：</p><img src="/imarker/images/react/next/pic17.webp"><h2 id="四、拦截路由" tabindex="-1">四、拦截路由 <a class="header-anchor" href="#四、拦截路由" aria-label="Permalink to &quot;四、拦截路由&quot;">​</a></h2><p>拦截路由允许你在当前布局内加载应用其他部分的路由。</p><h3 id="_4-1-效果展示" tabindex="-1">4.1 效果展示 <a class="header-anchor" href="#_4-1-效果展示" aria-label="Permalink to &quot;4.1 效果展示&quot;">​</a></h3><p>让我们直接看个案例，打开 <a href="https://dribbble.com/" target="_blank" rel="noreferrer">dribbble.com</a> 这个网站，你可以看到很多美图： <img src="/imarker/images/react/next/pic18.webp"> 现在点击任意一张图片： <img src="/imarker/images/react/next/pic19.webp"> 此时页面弹出了一层 Modal，Modal 中展示了该图片的具体内容。如果你想要查看其他图片，点击右上角的关闭按钮，关掉 Modal 即可继续浏览。值得注意的是，此时路由地址也发生了变化，它变成了这张图片的具体地址。如果你喜欢这张图片，直接复制或者分享当前的地址给朋友即可。</p><p>而当你的朋友打开时，其实不再需要以 Modal 的形式展现，直接展示这张图片的具体内容即可。现在刷新下该页面，你会发现页面的样式不同了：</p><img src="/imarker/images/react/next/pic20.webp"><p>在这个样式里没有 Modal，就是这张图片的内容。</p><p>你看同样一个路由地址，却展示了不同的内容。这就是拦截路由的效果。如果你在 <a href="https://dribbble.com/" target="_blank" rel="noreferrer">dribbble.com</a> 想要访问 <code>dribbble.com/shots/xxxxx</code>，此时会拦截 <code>dribbble.com/shots/xxxxx</code> 这个路由地址，以 Modal 的形式展现。而当直接访问 <code>dribbble.com/shots/xxxxx</code> 时，则是原本的样式。</p><p>示意图如下：</p><img src="/imarker/images/react/next/pic21.webp"><img src="/imarker/images/react/next/pic22.webp"><p>这是另一个拦截路由的 Demo 演示：<a href="https://nextjs-app-route-interception.vercel.app/" target="_blank" rel="noreferrer">nextjs-app-route-interception.vercel.app/</a></p><h3 id="_4-2-实现方式" tabindex="-1">4.2 实现方式 <a class="header-anchor" href="#_4-2-实现方式" aria-label="Permalink to &quot;4.2 实现方式&quot;">​</a></h3><p>那么这个效果该如何实现呢？在 Next.js 中，实现拦截路由需要你在命名文件夹的时候以 <code>(..)</code> 开头，其中：</p><ul><li><code>(.)</code> 表示匹配同一层级</li><li><code>(..)</code> 表示匹配上一层级</li><li><code>(..)(..)</code> 表示匹配上上层级。</li><li><code>(...)</code> 表示匹配根目录</li></ul><p>但是要注意的是，<strong>这个匹配的是路由的层级而不是文件夹的层级</strong>，就比如路由组、平行路由这些不会影响 URL 的文件夹就不会被计算层级。</p><p>看个例子： <img src="/imarker/images/react/next/pic23.webp"></p><p><code>/feed/(..)photo</code> 对应的路由是 <code>/feed/photo</code>，要拦截的路由是 <code>/photo</code>，两者只差了一个层级，所以使用 <code>(..)</code>。</p><p>我们写个 demo 来实现这个效果，目录结构如下：</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">app</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">layout.js</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">data.js</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default.js</span></span>
<span class="line"><span style="color:#FFCB6B;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@modal</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">├─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default.js</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">.</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">photo</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#FFCB6B;">│</span><span style="color:#A6ACCD;">        </span><span style="color:#C3E88D;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"><span style="color:#FFCB6B;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">photo</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#FFCB6B;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">└─</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">page.js</span></span>
<span class="line"></span></code></pre></div><p>每个文件代码都很简单。先 Mock 一下图片的数据，<code>app/data.js</code> 代码如下：</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> photos </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> [</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">src</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://placekitten.com/200/200</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;">id</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">src</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">http://placebear.com/200/200</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">]</span></span>
<span class="line"></span></code></pre></div><p><code>app/page.js</code>代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> Link </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">next/link</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">photos</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">./data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Home</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">main</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">container</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">photos</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">id</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">src</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> (</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">key</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">} </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">={</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">/photo/</span><span style="color:#89DDFF;">${</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">}`</span><span style="color:#89DDFF;">}&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">width</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">100</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">src</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#FFCB6B;">Link</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      ))</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">main</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p><code>app/layout.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Layout</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">children</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">modal</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">children</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">modal</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>此时访问 <code>/</code>，效果如下（图片就 2 张，你就假设这是个图片列表……）：</p><img src="/imarker/images/react/next/pic24.webp"><p>现在我们再来实现下单独访问图片地址时的效果：</p><p><code>app/photo/[id]/page.js</code> 代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">photos</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../../data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">PhotoPage</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">params</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">id</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">photo</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">photos</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">p</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#F07178;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">50%</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">display</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">block</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">marginLeft</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">auto</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">marginRight</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">auto</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}} </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">photo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">src</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>访问 <code>/photo/1</code>，效果如下：</p><img src="/imarker/images/react/next/pic25.webp"><p>现在我们开始实现拦截路由，为了和单独访问图片地址时的样式区分，我们声明另一种样式效果。<code>app/@modal/(.)photo/[id]/page.js</code>代码如下：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">photos</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">../../../data</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">PhotoModal</span><span style="color:#89DDFF;">({</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">params</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">id</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">})</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">photo</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">photos</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">p</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">p</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">===</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> (</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">className</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">modal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">style</span><span style="color:#89DDFF;">={{</span><span style="color:#F07178;">width</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">200</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">position</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">fixed</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">top</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">120px</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">}} </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">={</span><span style="color:#A6ACCD;">photo</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">src</span><span style="color:#89DDFF;">} /&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#F07178;">  )</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>两个 <code>default.js</code> 的代码都是：</p><div class="language-jsx"><button title="Copy Code" class="copy"></button><span class="lang">jsx</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">export</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Default</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">null</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><p>最终的效果如下： <img src="/imarker/images/react/next/pic26.webp"></p><p>你可以看到，在 <code>/</code> 路由下，访问 <code>/photo/1</code>，路由会被拦截，采用 <code>@modal/(.)photo/[id]/page.js</code> 的样式。该示例代码仓库地址为：<a href="https://github.com/mqyqingfeng/next-app-demo/tree/Intercepting-Routes" target="_blank" rel="noreferrer">github.com/mqyqingfeng…</a></p></div></div></main><footer class="VPDocFooter" data-v-577a912e data-v-face870a><!--[--><!--]--><!----><div class="prev-next" data-v-face870a><div class="pager" data-v-face870a><a class="pager-link prev" href="/imarker/technology/React/Nexj.js/Next.js%E5%BC%80%E5%8F%91%E6%8C%87%E5%8D%97-%E8%B7%AF%E7%94%B1%E7%AF%871.html" data-v-face870a><span class="desc" data-v-face870a>Previous page</span><span class="title" data-v-face870a>Next.js开发指南-路由篇1</span></a></div><div class="has-prev pager" data-v-face870a><a class="pager-link next" href="/imarker/technology/React/React%20Hooks.html" data-v-face870a><span class="desc" data-v-face870a>Next page</span><span class="title" data-v-face870a>React Hooks</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"algorithm_index.md\":\"9d028264\",\"algorithm_排序_3、快速排序.md\":\"87fc518e\",\"environment_git_commint_commit规范.md\":\"98e6781c\",\"algorithm_排序_1、冒泡排序.md\":\"813347c7\",\"environment_node_nvm.md\":\"c8c03229\",\"environment_git_commint_常用命令.md\":\"4c4eb317\",\"environment_git_commint_自定义命令.md\":\"f6f1fe85\",\"environment_git_github actions.md\":\"e639aa49\",\"environment_node_npm.md\":\"473e3825\",\"index.md\":\"035007f0\",\"technology_engineering_webpack_index.md\":\"ba40ef6c\",\"technology_engineering_前端构建工具大盘点.md\":\"8ae02e10\",\"technology_document_dom尺寸相关.md\":\"6035e950\",\"technology_engineering_埋点（monitor）_3.uniapp-monitor.md\":\"69feecc1\",\"technology_engineering_vite_vite开发配置.md\":\"cf854876\",\"technology_engineering_oidc-单点登录.md\":\"5ac7e991\",\"technology_engineering_埋点（monitor）_2.monitor-探索.md\":\"6a0df280\",\"explore_5.h5页面底部拖动元素变化-实现.md\":\"4a05229c\",\"technology_microfront_qiankun_solution.md\":\"a6d112ff\",\"technology_microfront_qiankun_use.md\":\"62a66856\",\"technology_microfront_wujie_use.md\":\"e7582288\",\"technology_javascript_访问器成员.md\":\"a1236191\",\"technology_engineering_埋点（monitor）_1.monitor-介绍.md\":\"79561591\",\"technology_other_algolia_algolia-solution.md\":\"345b4553\",\"technology_other_algolia_local-search.md\":\"53ce036e\",\"technology_other_monitor_2.monitor-探索.md\":\"30e26315\",\"technology_other_monitor_3.uniapp-monitor.md\":\"f1b49d0e\",\"technology_other_nuxt_api.md\":\"17fa6a00\",\"technology_other_nuxt_config.md\":\"3f9e6aa3\",\"technology_other_如何做好一名前端leader.md\":\"2b7277ad\",\"technology_other_小程序_小程序实现二维码生成.md\":\"0a275661\",\"technology_other_小程序_小程序自定义底部tabbar.md\":\"94863dd6\",\"technology_other_属于自己的github主页.md\":\"30e8766f\",\"technology_other_拖拽生成html.md\":\"ebfc304f\",\"technology_other_拖拽相关事件.md\":\"151a0259\",\"technology_other_搭建属于自己的网站.md\":\"10a89009\",\"technology_react_a-简介.md\":\"f0fe99f9\",\"technology_tools_index.md\":\"19a1e188\",\"technology_tools_常用的工具函数_类型校验.md\":\"fc874f81\",\"technology_tools_常用的工具函数_颜色转换.md\":\"3238ea93\",\"technology_typescript_basic_tsconfig配置文件.md\":\"82555baf\",\"technology_typescript_basic_type和interface.md\":\"a7942847\",\"technology_typescript_basic_声明文件.md\":\"aec30518\",\"technology_typescript_basic_泛型.md\":\"6cfc008b\",\"technology_typescript_高阶_高阶.md\":\"b49f3404\",\"technology_vue_admin系统_vite_vue3-project.md\":\"2e24a8ec\",\"technology_nodejs_verdaccio搭建本地npm源.md\":\"c681fc83\",\"technology_other_es6_import_export.md\":\"580690b9\",\"technology_react_nexj.js_next.js开发指南-目录说明.md\":\"186910a0\",\"technology_vue_1.vue3.md\":\"38f38372\",\"technology_engineering_vite_工程优化.md\":\"191fe569\",\"technology_engineering_server_develop_koa_ts_swagger.md\":\"294ee652\",\"technology_engineering_vite项目api自动引入.md\":\"26e7eb15\",\"explore_2.自动生成目录树.md\":\"b4514538\",\"explore_3.页面悬浮滚动特效.md\":\"a6a7434d\",\"environment_node_yarn_npm_npm.md\":\"78c6bc38\",\"technology_engineering_autoswagger.md\":\"a9cc87e9\",\"technology_vue_vue3组件库搭建_4.发布组件.md\":\"08bf95ef\",\"technology_engineering_batchexportcomponent.md\":\"bcb4b4dc\",\"technology_javascript_proxy.md\":\"ede773a9\",\"guide_文档快链.md\":\"c3de3183\",\"technology_engineering_npm_npm发包-package配置.md\":\"8145bef3\",\"technology_other_monitor_1.monitor-介绍.md\":\"58ba8eed\",\"technology_javascript_装饰器.md\":\"8ddc1121\",\"technology_vue_hooks_usevmodel.md\":\"b378add0\",\"explore_1.高阶函数--动画函数.md\":\"18b21321\",\"technology_microfront_a-简介.md\":\"524c4c89\",\"technology_vue_vitepress_vitepress代码预览方案1.md\":\"f7bb8276\",\"technology_vue_vitepress_vitepress代码预览方案3.md\":\"13595197\",\"explore_4.树形数据--单元格合并数据.md\":\"2463fa01\",\"technology_engineering_husky_commitlint.md\":\"dba446ee\",\"technology_vue_vitepress_vitepress搭建网址.md\":\"d6ce5d1e\",\"technology_engineering_npm_npm发包.md\":\"3f1fe237\",\"technology_vue_vue3组件库搭建_2.开发第一个组件.md\":\"3463fcc2\",\"technology_engineering_server_deploy_nginx.md\":\"ddef7d42\",\"technology_vue_vue3组件库搭建_3.测试组件.md\":\"58f3f759\",\"technology_engineering_pnpm_monorepo-1.md\":\"9cc1bdd9\",\"technology_engineering_pnpm_monorepo-2.md\":\"8b6fd521\",\"technology_react_nexj.js_next.js开发指南-路由篇1.md\":\"e06f601d\",\"technology_other_algolia_vitepress-algolia.md\":\"7e233f1d\",\"technology_other_axios_axios封装.md\":\"5e295771\",\"technology_engineering_server_index.md\":\"d940d6d5\",\"technology_vue_admin系统_后台管理多布局实现.md\":\"88964a18\",\"technology_react_nexj.js_next.js开发指南-路由篇2.md\":\"4d6ae3b4\",\"technology_microfront_microapp_use.md\":\"53d56564\",\"technology_engineering_server_deploy_docker.md\":\"4ab5c1da\",\"question_index.md\":\"00ee1a1b\",\"technology_vue_vue3组件库搭建_6.发布组件库文档.md\":\"e1b6ce73\",\"technology_vue_vue3组件库搭建_7.正式开发问题拾遗.md\":\"90754e95\",\"vant-plus_介绍.md\":\"e0570567\",\"technology_vue_vue3组件库搭建_1.项目搭建.md\":\"7e8bc32a\",\"technology_react_react hooks.md\":\"68dfb5e8\",\"technology_vue_vue3组件库搭建_5.配置编码规范.md\":\"0e449dbf\",\"technology_vue_vitepress_vitepress代码预览方案2.md\":\"d48cffe5\"}")
__VP_SITE_DATA__ = JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"IT-Marker\",\"description\":\"技术永不褪色\",\"base\":\"/imarker/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"logo\":\"logo.svg\",\"outline\":[2,3],\"socialLinks\":[{\"icon\":{\"svg\":\"<svg t=\\\"1695563601099\\\" class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" p-id=\\\"1771\\\" width=\\\"200\\\" height=\\\"200\\\"><path d=\\\"M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z\\\" fill=\\\"#C71D23\\\" p-id=\\\"1772\\\"></path></svg>\"},\"link\":\"https://gitee.com/darkersu\"},{\"icon\":\"github\",\"link\":\"https://github.com/DarkerSU\"}],\"nav\":[{\"text\":\"♾️ Env\",\"link\":\"/environment/Node/npm\",\"activeMatch\":\"^/environment/\"},{\"text\":\"✨ Tech\",\"activeMatch\":\"^/technology/\",\"items\":[{\"text\":\"Document\",\"link\":\"/technology/Document/dom尺寸相关\"},{\"text\":\"JavaScript\",\"link\":\"/technology/JavaScript/访问器成员\"},{\"text\":\"TypeScript\",\"link\":\"/technology/TypeScript/Basic/tsconfig配置文件\"},{\"text\":\"Nodejs\",\"link\":\"/technology/Nodejs/verdaccio搭建本地npm源\"},{\"text\":\"Vue\",\"link\":\"/technology/Vue/1.Vue3\"},{\"text\":\"React\",\"link\":\"/technology/React/A-简介\"},{\"text\":\"微前端\",\"link\":\"/technology/Microfront/A-简介\"},{\"text\":\"工程化\",\"link\":\"/technology/Engineering/batchExportComponent\"},{\"text\":\"工具\",\"link\":\"/technology/Tools/index\"},{\"text\":\"其他\",\"link\":\"/technology/Other/如何做好一名前端Leader\"}]},{\"text\":\"🧊 算法\",\"link\":\"/algorithm/index\",\"activeMatch\":\"^/algorithm/\"},{\"text\":\"🛠️ 探索\",\"link\":\"/explore/1.高阶函数--动画函数\",\"activeMatch\":\"^/explore\"},{\"text\":\"🛠️ 疑难杂症\",\"link\":\"/question/\",\"activeMatch\":\"^/question\"},{\"text\":\"🔗 文档快链\",\"activeMatch\":\"^/marker/\",\"link\":\"/guide/文档快链\"},{\"text\":\"🔗 Vant++\",\"activeMatch\":\"^/vant-plus/\",\"link\":\"/vant-plus/介绍\"},{\"text\":\"⚡️ 常用库\",\"items\":[{\"text\":\"Vue2\",\"link\":\"https://v2.cn.vuejs.org/\"},{\"text\":\"Vue3\",\"link\":\"https://cn.vuejs.org/\"},{\"text\":\"Vite\",\"link\":\"https://cn.vitejs.dev/\"},{\"text\":\"React官网\",\"link\":\"https://react.dev/\"},{\"text\":\"React中文网\",\"link\":\"https://react.docschina.org/\"}]}],\"sidebar\":{\"/environment/\":[{\"text\":\"Git\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\".gitignore\",\"link\":\"/environment/Git/.gitignore\"},{\"text\":\"Commint\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Commit规范\",\"link\":\"/environment/Git/Commint/Commit规范\"},{\"text\":\"常用命令\",\"link\":\"/environment/Git/Commint/常用命令\"},{\"text\":\"自定义命令\",\"link\":\"/environment/Git/Commint/自定义命令\"}]},{\"text\":\"Github Actions\",\"link\":\"/environment/Git/Github Actions\"}]},{\"text\":\"Node\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"npm\",\"link\":\"/environment/Node/npm\"},{\"text\":\"nvm\",\"link\":\"/environment/Node/nvm\"},{\"text\":\"yarn&npm&npm\",\"link\":\"/environment/Node/yarn&npm&npm\"}]}],\"/guide/\":[{\"text\":\"文档快链\",\"link\":\"/guide/文档快链\"}],\"/technology/Document/\":[{\"text\":\"dom尺寸相关\",\"link\":\"/technology/Document/dom尺寸相关\"}],\"/technology/JavaScript/\":[{\"text\":\"Proxy\",\"link\":\"/technology/JavaScript/Proxy\"},{\"text\":\"装饰器\",\"link\":\"/technology/JavaScript/装饰器\"},{\"text\":\"访问器成员\",\"link\":\"/technology/JavaScript/访问器成员\"}],\"/technology/TypeScript/\":[{\"text\":\"Basic\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"tsconfig配置文件\",\"link\":\"/technology/TypeScript/Basic/tsconfig配置文件\"},{\"text\":\"type和interface\",\"link\":\"/technology/TypeScript/Basic/type和interface\"},{\"text\":\"声明文件\",\"link\":\"/technology/TypeScript/Basic/声明文件\"},{\"text\":\"泛型\",\"link\":\"/technology/TypeScript/Basic/泛型\"}]},{\"text\":\"高阶\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"高阶\",\"link\":\"/technology/TypeScript/高阶/高阶\"}]}],\"/technology/Engineering/\":[{\"text\":\"OIDC-单点登录\",\"link\":\"/technology/Engineering/OIDC-单点登录\"},{\"text\":\"Vite\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Vite开发配置\",\"link\":\"/technology/Engineering/Vite/Vite开发配置\"},{\"text\":\"工程优化\",\"link\":\"/technology/Engineering/Vite/工程优化\"}]},{\"text\":\"Vite项目Api自动引入\",\"link\":\"/technology/Engineering/Vite项目Api自动引入\"},{\"text\":\"autoSwagger\",\"link\":\"/technology/Engineering/autoSwagger\"},{\"text\":\"batchExportComponent\",\"link\":\"/technology/Engineering/batchExportComponent\"},{\"text\":\"husky+commitlint\",\"link\":\"/technology/Engineering/husky+commitlint\"},{\"text\":\"npm\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"npm发包-package配置\",\"link\":\"/technology/Engineering/npm/npm发包-package配置\"},{\"text\":\"npm发包\",\"link\":\"/technology/Engineering/npm/npm发包\"}]},{\"text\":\"pnpm\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"monorepo-1\",\"link\":\"/technology/Engineering/pnpm/monorepo-1\"},{\"text\":\"monorepo-2\",\"link\":\"/technology/Engineering/pnpm/monorepo-2\"}]},{\"text\":\"server\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"deploy\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"docker\",\"link\":\"/technology/Engineering/server/deploy/docker\"},{\"text\":\"nginx\",\"link\":\"/technology/Engineering/server/deploy/nginx\"}]},{\"text\":\"develop\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Koa+TS+Swagger\",\"link\":\"/technology/Engineering/server/develop/Koa+TS+Swagger\"}]},{\"text\":\"index\",\"link\":\"/technology/Engineering/server/index\"}]},{\"text\":\"webpack\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"index\",\"link\":\"/technology/Engineering/webpack/index\"}]},{\"text\":\"前端构建工具大盘点\",\"link\":\"/technology/Engineering/前端构建工具大盘点\"},{\"text\":\"埋点（Monitor）\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1.monitor-介绍\",\"link\":\"/technology/Engineering/埋点（Monitor）/1.monitor-介绍\"},{\"text\":\"2.monitor-探索\",\"link\":\"/technology/Engineering/埋点（Monitor）/2.monitor-探索\"},{\"text\":\"3.uniapp-monitor\",\"link\":\"/technology/Engineering/埋点（Monitor）/3.uniapp-monitor\"}]}],\"/technology/Nodejs/\":[{\"text\":\"verdaccio搭建本地npm源\",\"link\":\"/technology/Nodejs/verdaccio搭建本地npm源\"}],\"/technology/Vue/\":[{\"text\":\"1.Vue3\",\"link\":\"/technology/Vue/1.Vue3\"},{\"text\":\"Admin系统\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Vite+Vue3-project\",\"link\":\"/technology/Vue/Admin系统/Vite+Vue3-project\"},{\"text\":\"后台管理多布局实现\",\"link\":\"/technology/Vue/Admin系统/后台管理多布局实现\"}]},{\"text\":\"Hooks\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"useVModel\",\"link\":\"/technology/Vue/Hooks/useVModel\"}]},{\"text\":\"Vitepress\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"vitepress代码预览方案1\",\"link\":\"/technology/Vue/Vitepress/vitepress代码预览方案1\"},{\"text\":\"vitepress代码预览方案2\",\"link\":\"/technology/Vue/Vitepress/vitepress代码预览方案2\"},{\"text\":\"vitepress代码预览方案3\",\"link\":\"/technology/Vue/Vitepress/vitepress代码预览方案3\"},{\"text\":\"vitepress搭建网址\",\"link\":\"/technology/Vue/Vitepress/vitepress搭建网址\"}]},{\"text\":\"Vue3组件库搭建\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1.项目搭建\",\"link\":\"/technology/Vue/Vue3组件库搭建/1.项目搭建\"},{\"text\":\"2.开发第一个组件\",\"link\":\"/technology/Vue/Vue3组件库搭建/2.开发第一个组件\"},{\"text\":\"3.测试组件\",\"link\":\"/technology/Vue/Vue3组件库搭建/3.测试组件\"},{\"text\":\"4.发布组件\",\"link\":\"/technology/Vue/Vue3组件库搭建/4.发布组件\"},{\"text\":\"5.配置编码规范\",\"link\":\"/technology/Vue/Vue3组件库搭建/5.配置编码规范\"},{\"text\":\"6.发布组件库文档\",\"link\":\"/technology/Vue/Vue3组件库搭建/6.发布组件库文档\"},{\"text\":\"7.正式开发问题拾遗\",\"link\":\"/technology/Vue/Vue3组件库搭建/7.正式开发问题拾遗\"}]}],\"/technology/React/\":[{\"text\":\"A-简介\",\"link\":\"/technology/React/A-简介\"},{\"text\":\"Nexj.js\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"Next.js开发指南-目录说明\",\"link\":\"/technology/React/Nexj.js/Next.js开发指南-目录说明\"},{\"text\":\"Next.js开发指南-路由篇1\",\"link\":\"/technology/React/Nexj.js/Next.js开发指南-路由篇1\"},{\"text\":\"Next.js开发指南-路由篇2\",\"link\":\"/technology/React/Nexj.js/Next.js开发指南-路由篇2\"}]},{\"text\":\"React Hooks\",\"link\":\"/technology/React/React Hooks\"}],\"/technology/Other/\":[{\"text\":\"ES6\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"import&export\",\"link\":\"/technology/Other/ES6/import&export\"}]},{\"text\":\"algolia\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"algolia-solution\",\"link\":\"/technology/Other/algolia/algolia-solution\"},{\"text\":\"local-search\",\"link\":\"/technology/Other/algolia/local-search\"},{\"text\":\"vitepress-algolia\",\"link\":\"/technology/Other/algolia/vitepress-algolia\"}]},{\"text\":\"axios\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"axios封装\",\"link\":\"/technology/Other/axios/axios封装\"}]},{\"text\":\"monitor\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1.monitor-介绍\",\"link\":\"/technology/Other/monitor/1.monitor-介绍\"},{\"text\":\"2.monitor-探索\",\"link\":\"/technology/Other/monitor/2.monitor-探索\"},{\"text\":\"3.uniapp-monitor\",\"link\":\"/technology/Other/monitor/3.uniapp-monitor\"}]},{\"text\":\"nuxt\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"api\",\"link\":\"/technology/Other/nuxt/api\"},{\"text\":\"config\",\"link\":\"/technology/Other/nuxt/config\"}]},{\"text\":\"如何做好一名前端Leader\",\"link\":\"/technology/Other/如何做好一名前端Leader\"},{\"text\":\"小程序\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"小程序实现二维码生成\",\"link\":\"/technology/Other/小程序/小程序实现二维码生成\"},{\"text\":\"小程序自定义底部Tabbar\",\"link\":\"/technology/Other/小程序/小程序自定义底部Tabbar\"}]},{\"text\":\"属于自己的Github主页\",\"link\":\"/technology/Other/属于自己的Github主页\"},{\"text\":\"拖拽生成html\",\"link\":\"/technology/Other/拖拽生成html\"},{\"text\":\"拖拽相关事件\",\"link\":\"/technology/Other/拖拽相关事件\"},{\"text\":\"搭建属于自己的网站\",\"link\":\"/technology/Other/搭建属于自己的网站\"}],\"/technology/Microfront/\":[{\"text\":\"A-简介\",\"link\":\"/technology/Microfront/A-简介\"},{\"text\":\"microapp\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"use\",\"link\":\"/technology/Microfront/microapp/use\"}]},{\"text\":\"qiankun\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"solution\",\"link\":\"/technology/Microfront/qiankun/solution\"},{\"text\":\"use\",\"link\":\"/technology/Microfront/qiankun/use\"}]},{\"text\":\"wujie\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"use\",\"link\":\"/technology/Microfront/wujie/use\"}]}],\"/technology/Tools/\":[{\"text\":\"index\",\"link\":\"/technology/Tools/index\"},{\"text\":\"常用的工具函数\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"类型校验\",\"link\":\"/technology/Tools/常用的工具函数/类型校验\"},{\"text\":\"颜色转换\",\"link\":\"/technology/Tools/常用的工具函数/颜色转换\"}]}],\"/question/\":[{\"text\":\"index\",\"link\":\"/question/index\"}],\"/explore/\":[{\"text\":\"1.高阶函数--动画函数\",\"link\":\"/explore/1.高阶函数--动画函数\"},{\"text\":\"2.自动生成目录树\",\"link\":\"/explore/2.自动生成目录树\"},{\"text\":\"3.页面悬浮滚动特效\",\"link\":\"/explore/3.页面悬浮滚动特效\"},{\"text\":\"4.树形数据--单元格合并数据\",\"link\":\"/explore/4.树形数据--单元格合并数据\"},{\"text\":\"5.H5页面底部拖动元素变化-实现\",\"link\":\"/explore/5.H5页面底部拖动元素变化-实现\"}],\"/algorithm/\":[{\"text\":\"index\",\"link\":\"/algorithm/index\"},{\"text\":\"排序\",\"collapsible\":true,\"collapsed\":true,\"items\":[{\"text\":\"1、冒泡排序\",\"link\":\"/algorithm/排序/1、冒泡排序\"},{\"text\":\"3、快速排序\",\"link\":\"/algorithm/排序/3、快速排序\"}]}],\"/vant-plus/\":[{\"text\":\"介绍\",\"link\":\"/vant-plus/介绍\"}]},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}")</script>
    
  </body>
</html>